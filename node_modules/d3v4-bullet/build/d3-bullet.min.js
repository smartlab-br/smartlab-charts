!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("d3-array"),require("d3-axis"),require("d3-scale"),require("d3-selection"),require("d3-timer"),require("d3-transition")):"function"==typeof define&&define.amd?define(["exports","d3-array","d3-axis","d3-scale","d3-selection","d3-timer","d3-transition"],e):e(t.d3=t.d3||{},t.d3,t.d3,t.d3,t.d3,t.d3)}(this,function(t,e,r,a,n,i){"use strict";function s(t){return t.ranges}function c(t){return t.markers}function l(t){return t.measures}function o(t){var e=t(0);return function(r){return Math.abs(t(r)-e)}}t.bullet=function(){var t="left",u=!1,d=!1,h=s,f=c,g=l,m=380,p=30,x=r.axisLeft();function y(t){t.each(function(t,r){var i,s,c=h.call(this,t,r).slice().sort(e.descending),l=f.call(this,t,r).slice().sort(e.descending),y=g.call(this,t,r).slice().sort(e.descending),_=n.select(this),v=_.select("g.wrap");v.empty()&&(v=_.append("g").attr("class","wrap")),d?(i=p,s=m,v.attr("transform","rotate(90)translate(0,"+-m+")")):(i=m,s=p,v.attr("transform",null));var b=a.scaleLinear().domain([0,Math.max(c[0],l[0],y[0])]).range(u?[i,0]:[0,i]),k=this.__chart__||a.scaleLinear().domain([0,1/0]).range(b.range());this.__chart__=b;var w=o(k),q=o(b),A=v.selectAll("rect.range").data(c);A.enter().append("rect").attr("class",function(t,e){return"range s"+e}).attr("width",w).attr("height",s).attr("x",u?k:0).merge(A).transition(A).attr("x",u?b:0).attr("width",q).attr("height",s);var F=v.selectAll("rect.measure").data(y);F.enter().append("rect").attr("class",function(t,e){return"measure s"+e}).attr("width",w).attr("height",s/3).attr("x",u?k:0).attr("y",s/3).merge(F).transition(F).attr("width",q).attr("height",s/3).attr("x",u?b:0).attr("y",s/3);var L=v.selectAll("line.marker").data(l);L.enter().append("line").attr("class","marker").attr("x1",k).attr("x2",k).attr("y1",s/6).attr("y2",5*s/6).merge(L).transition(L).attr("x1",b).attr("x2",b).attr("y1",s/6).attr("y2",5*s/6);var M=_.selectAll("g.axis").data([0]);M.enter().append("g").attr("class","axis"),M.attr("transform",d?null:"translate(0,"+s+")").call(x.scale(b))}),i.timerFlush()}return y.orient=function(e){return arguments.length?(u="right"==(t=e+"")||"bottom"===t,x.orient((d="top"===t||"bottom"===t)?"left":"bottom"),y):t},y.ranges=function(t){return arguments.length?(h=t,y):h},y.markers=function(t){return arguments.length?(f=t,y):f},y.measures=function(t){return arguments.length?(g=t,y):g},y.width=function(t){return arguments.length?(m=+t,y):m},y.height=function(t){return arguments.length?(p=+t,y):p},y.tickFormat=function(t){return arguments.length?(x.tickFormat(t),y):x.tickFormat()},y},Object.defineProperty(t,"__esModule",{value:!0})});