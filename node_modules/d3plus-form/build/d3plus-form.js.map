{"version":3,"file":"d3plus-form.js","sources":["../src/Button.js","../src/Radio.js","../src/Select.js"],"sourcesContent":["/**\n    @external BaseClass\n    @see https://github.com/d3plus/d3plus-common#BaseClass\n*/\nimport {select} from \"d3-selection\";\nimport {accessor, BaseClass, constant, stylize} from \"d3plus-common\";\n\n/**\n    @class Button\n    @extends external:BaseClass\n    @desc Creates a set of HTML radio input elements.\n*/\nexport default class Button extends BaseClass {\n\n  /**\n      @memberof Button\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  constructor() {\n\n    super();\n\n    this._buttonStyle = {\n      \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n      \"font-size\": \"14px\",\n      \"margin\": \"0 5px\"\n    };\n    this._data = [];\n    this._text = accessor(\"text\");\n    this._value = accessor(\"value\");\n\n  }\n\n  /**\n      @memberof Button\n      @desc Renders the element to the page.\n      @chainable\n  */\n  render() {\n\n    if (this._container === void 0) this.container(select(\"body\").append(\"div\").node());\n\n    let container = this._container.selectAll(`div#d3plus-Form-${this._uuid}`).data([0]);\n    const svg = this._container.node().tagName.toLowerCase() === \"foreignobject\";\n\n    container = container.enter().append(svg ? \"xhtml:div\" : \"div\")\n        .attr(\"id\", `d3plus-Form-${this._uuid}`)\n        .attr(\"class\", \"d3plus-Form d3plus-Form-Button\")\n      .merge(container);\n\n    let button = container.selectAll(\"button\")\n      .data(this._data, (d, i) => this._value(d, i));\n\n    button.exit().remove();\n\n    button = button.enter().append(\"button\")\n        .attr(\"class\", \"d3plus-Button\")\n        .attr(\"type\", \"button\")\n      .merge(button)\n        .call(stylize, this._buttonStyle)\n        .html((d, i) => this._text(d, i));\n\n    for (const event in this._on) {\n      if ({}.hasOwnProperty.call(this._on, event)) button.on(event, this._on[event]);\n    }\n\n    return this;\n\n  }\n\n  /**\n      @memberof Button\n      @desc Sets the css styles for the <input type=\"radio\"> elements.\n      @param {Object} [*value*]\n      @chainable\n  */\n  buttonStyle(_) {\n    return arguments.length ? (this._buttonStyle = _, this) : this._buttonStyle;\n  }\n\n  /**\n      @memberof Button\n      @desc If *selector* is specified, sets the SVG container element to the specified d3 selector or DOM element and returns the current class instance. If *selector* is not specified, returns the current SVG container element, which is `undefined` by default.\n      @param {String|HTMLElement} [*selector*]\n      @chainable\n  */\n  container(_) {\n    return arguments.length ? (this._container = select(_), this) : this._container;\n  }\n\n  /**\n      @memberof Radio\n      @desc Defines the array of values to be created as <button> tags. If no value is passed, the current array is returned.\n      @param {Array} [*value* = []]\n      @chainable\n  */\n  data(_) {\n    return arguments.length ? (this._data = _, this) : this._data;\n  }\n\n  /**\n      @memberof Button\n      @desc Sets the inner text for each <button> element.\n      @param {Function|String} [*value* = function(d) { return d.text; }]\n      @chainable\n  */\n  text(_) {\n    return arguments.length ? (this._text = typeof _ === \"function\" ? _ : constant(_), this) : this._text;\n  }\n\n  /**\n      @memberof Button\n      @desc Sets the value for each <button> element.\n      @param {Function} [*value* = function(d) { return d.value; }]\n      @chainable\n  */\n  value(_) {\n    return arguments.length ? (this._value = _, this) : this._value;\n  }\n\n}\n","/**\n    @external BaseClass\n    @see https://github.com/d3plus/d3plus-common#BaseClass\n*/\nimport {select} from \"d3-selection\";\nimport {accessor, BaseClass, constant, stylize} from \"d3plus-common\";\n\n/**\n    @class Radio\n    @extends external:BaseClass\n    @desc Creates a set of HTML radio input elements.\n*/\nexport default class Radio extends BaseClass {\n\n  /**\n      @memberof Radio\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  constructor() {\n\n    super();\n\n    this._labelStyle = {\n      \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n      \"font-size\": \"14px\",\n      \"padding-right\": \"5px\"\n    };\n    this._legendStyle = {\n      \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n      \"font-size\": \"14px\",\n      \"padding-right\": \"5px\"\n    };\n    this._options = [];\n    this._radioStyle = {\n      \"margin-right\": \"10px\"\n    };\n    this._text = accessor(\"text\");\n    this._value = accessor(\"value\");\n\n  }\n\n  /**\n      @memberof Radio\n      @desc Renders the element to the page.\n      @chainable\n  */\n  render() {\n\n    if (this._container === void 0) this.container(select(\"body\").append(\"div\").node());\n    const that = this;\n\n    let container = this._container.selectAll(`div#d3plus-Form-${this._uuid}`).data([0]);\n    const svg = this._container.node().tagName.toLowerCase() === \"foreignobject\";\n\n    container = container.enter().append(svg ? \"xhtml:div\" : \"div\")\n        .attr(\"id\", `d3plus-Form-${this._uuid}`)\n        .attr(\"class\", \"d3plus-Form d3plus-Form-Radio\")\n      .merge(container);\n\n    let radios = container.selectAll(\"label\")\n      .data(this._options, (d, i) => this._value(d, i));\n\n    radios.exit()\n      .each(function() {\n        select(this.nextSibling).remove();\n      })\n      .remove();\n\n    radios = radios.enter().append(\"label\")\n        .attr(\"class\", \"d3plus-Label\")\n        .attr(\"for\", (d, i) => `${this._uuid}-${this._value(d, i)}`)\n        .each(function(d, i) {\n          const input = document.createElement(\"input\");\n          input.setAttribute(\"type\", \"radio\");\n          input.setAttribute(\"name\", `d3plus-Radio-${that._uuid}`);\n          input.setAttribute(\"id\", `${that._uuid}-${that._value(d, i)}`);\n          input.setAttribute(\"value\", that._value(d, i));\n          this.parentNode.insertBefore(input, this.nextSibling);\n        })\n      .merge(radios)\n        .call(stylize, this._labelStyle)\n        .html((d, i) => this._text(d, i))\n        .each(function(d, i) {\n          const checked = that._checked === void 0 ? !i : `${that._value(d, i)}` === `${that._checked}`;\n          select(this)\n            .classed(\"active\", checked)\n            .style(\"cursor\", checked ? \"default\" : \"pointer\");\n          const input = select(this.nextSibling)\n            .property(\"checked\", checked)\n            .call(stylize, that._radioStyle)\n            .style(\"cursor\", checked ? \"default\" : \"pointer\")\n            .on(\"change.d3plus\", function() {\n              that.checked(this.value);\n              radios.each(function(d, i) {\n                const checked = `${that._value(d, i)}` === `${that._checked}`;\n                select(this).classed(\"active\", checked).style(\"cursor\", checked ? \"default\" : \"pointer\");\n                select(this.nextSibling).style(\"cursor\", checked ? \"default\" : \"pointer\");\n              });\n            });\n\n          for (const event in that._on) {\n            if ({}.hasOwnProperty.call(that._on, event)) input.on(event, that._on[event]);\n          }\n\n        });\n\n    const legend = container.selectAll(`legend#d3plus-Legend-${this._uuid}`)\n      .data(this._legend ? [0] : []);\n    legend.exit().remove();\n    legend.enter().insert(\"legend\", \".d3plus-Label\")\n        .attr(\"id\", `d3plus-Legend-${this._uuid}`)\n        .attr(\"class\", \"d3plus-Legend\")\n      .merge(legend)\n        .call(stylize, this._legendStyle)\n        .html(this._legend);\n\n    return this;\n\n  }\n\n  /**\n      @memberof Radio\n      @desc Defines the checked input.\n      @param {Function} [*value*]\n      @chainable\n  */\n  checked(_) {\n    return arguments.length ? (this._checked = _, this) : this._checked;\n  }\n\n  /**\n      @memberof Radio\n      @desc If *selector* is specified, sets the SVG container element to the specified d3 selector or DOM element and returns the current class instance. If *selector* is not specified, returns the current SVG container element, which is `undefined` by default.\n      @param {String|HTMLElement} [*selector*]\n      @chainable\n  */\n  container(_) {\n    return arguments.length ? (this._container = select(_), this) : this._container;\n  }\n\n  /**\n      @memberof Radio\n      @desc Sets the css styles for the <label> element.\n      @param {Object} [*value*]\n      @chainable\n  */\n  labelStyle(_) {\n    return arguments.length ? (this._labelStyle = _, this) : this._labelStyle;\n  }\n\n  /**\n      @memberof Radio\n      @desc Creates a <legend> tag for the <select> element.\n      @param {String} [*value*]\n      @chainable\n  */\n  legend(_) {\n    return arguments.length ? (this._legend = _, this) : this._legend;\n  }\n\n  /**\n      @memberof Radio\n      @desc Sets the css styles for the <legend> element.\n      @param {Object} [*value*]\n      @chainable\n  */\n  legendStyle(_) {\n    return arguments.length ? (this._legendStyle = _, this) : this._legendStyle;\n  }\n\n  /**\n      @memberof Radio\n      @desc Defines the array of values to be used as <option> tags inside of the <select> element. If no value is passed, the current array is returned.\n      @param {Array} [*value* = []]\n      @chainable\n  */\n  options(_) {\n    return arguments.length ? (this._options = _, this) : this._options;\n  }\n\n  /**\n      @memberof Radio\n      @desc Sets the css styles for the <input type=\"radio\"> elements.\n      @param {Object} [*value*]\n      @chainable\n  */\n  radioStyle(_) {\n    return arguments.length ? (this._radioStyle = _, this) : this._radioStyle;\n  }\n\n  /**\n      @memberof Radio\n      @desc Sets the inner text for each <option> element.\n      @param {Function|String} [*value* = function(d) { return d.text; }]\n      @chainable\n  */\n  text(_) {\n    return arguments.length ? (this._text = typeof _ === \"function\" ? _ : constant(_), this) : this._text;\n  }\n\n  /**\n      @memberof Radio\n      @desc Sets the value for each <option> element.\n      @param {Function} [*value* = function(d) { return d.value; }]\n      @chainable\n  */\n  value(_) {\n    return arguments.length ? (this._value = _, this) : this._value;\n  }\n\n}\n","/**\n    @external BaseClass\n    @see https://github.com/d3plus/d3plus-common#BaseClass\n*/\nimport {select} from \"d3-selection\";\nimport {accessor, BaseClass, constant, stylize} from \"d3plus-common\";\n\n/**\n    @class Select\n    @extends external:BaseClass\n    @desc Creates an HTML select element.\n*/\nexport default class Select extends BaseClass {\n\n  /**\n      @memberof Select\n      @desc Invoked when creating a new class instance, and sets any default parameters.\n      @private\n  */\n  constructor() {\n\n    super();\n\n    this._labelStyle = {\n      \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n      \"font-size\": \"14px\",\n      \"margin-right\": \"5px\"\n    };\n    this._options = [];\n    this._optionStyle = {\n      \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n      \"font-size\": \"14px\"\n    };\n    this._selectStyle = {\n      \"background\": \"#fafafa\",\n      \"border\": \"1px solid #ccc\",\n      \"border-radius\": \"0\",\n      \"font-family\": \"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif\",\n      \"font-size\": \"14px\",\n      \"outline\": \"0\",\n      \"padding\": \"3px 5px 4px\"\n    };\n    this._text = accessor(\"text\");\n    this._value = accessor(\"value\");\n\n  }\n\n  /**\n      @memberof Select\n      @desc Renders the element to the page.\n      @chainable\n  */\n  render() {\n\n    if (this._container === void 0) this.container(select(\"body\").append(\"div\").node());\n    const that = this;\n\n    let container = this._container.selectAll(`div#d3plus-Form-${this._uuid}`).data([0]);\n    const svg = this._container.node().tagName.toLowerCase() === \"foreignobject\";\n\n    container = container.enter().append(svg ? \"xhtml:div\" : \"div\")\n        .attr(\"id\", `d3plus-Form-${this._uuid}`)\n        .attr(\"class\", \"d3plus-Form d3plus-Form-Select\")\n      .merge(container);\n\n    let select = container.selectAll(`select#d3plus-Select-${this._uuid}`).data([0]);\n    select = select.enter().append(\"select\")\n        .attr(\"id\", `d3plus-Select-${this._uuid}`)\n        .attr(\"class\", \"d3plus-Select\")\n      .merge(select)\n        .call(stylize, this._selectStyle)\n        .on(\"change.d3plus\", function() {\n          that.selected(this.value);\n        });\n\n    for (const event in this._on) {\n      if ({}.hasOwnProperty.call(this._on, event)) select.on(event, this._on[event]);\n    }\n\n    const options = select.selectAll(\"option\")\n      .data(this._options, (d, i) => this._value(d, i));\n\n    options.exit().remove();\n\n    options.enter().append(\"option\")\n        .attr(\"class\", \"d3plus-Option\")\n      .merge(options)\n        .call(stylize, this._optionStyle)\n        .attr(\"value\", (d, i) => this._value(d, i))\n        .html((d, i) => this._text(d, i))\n        .property(\"selected\", (d, i) => this._selected === void 0 ? !i : `${this._value(d, i)}` === `${this._selected}`);\n\n    const label = container.selectAll(`label#d3plus-Label-${this._uuid}`)\n      .data(this._label ? [0] : []);\n    label.exit().remove();\n    label.enter().insert(\"label\", `#d3plus-Select-${this._uuid}`)\n        .attr(\"id\", `d3plus-Label-${this._uuid}`)\n        .attr(\"class\", \"d3plus-Label\")\n        .attr(\"for\", `d3plus-Select-${this._uuid}`)\n      .merge(label)\n        .call(stylize, this._labelStyle)\n        .html(this._label);\n\n    return this;\n\n  }\n\n  /**\n      @memberof Select\n      @desc If *selector* is specified, sets the SVG container element to the specified d3 selector or DOM element and returns the current class instance. If *selector* is not specified, returns the current SVG container element, which is `undefined` by default.\n      @param {String|HTMLElement} [*selector*]\n      @chainable\n  */\n  container(_) {\n    return arguments.length ? (this._container = select(_), this) : this._container;\n  }\n\n  /**\n      @memberof Select\n      @desc Creates a <label> tag for the <select> element.\n      @param {String} [*value*]\n      @chainable\n  */\n  label(_) {\n    return arguments.length ? (this._label = _, this) : this._label;\n  }\n\n  /**\n      @memberof Select\n      @desc Sets the css styles for the <label> element.\n      @param {Object} [*value*]\n      @chainable\n  */\n  labelStyle(_) {\n    return arguments.length ? (this._labelStyle = _, this) : this._labelStyle;\n  }\n\n  /**\n      @memberof Select\n      @desc Defines the array of values to be used as <option> tags inside of the <select> element. If no value is passed, the current array is returned.\n      @param {Array} [*value* = []]\n      @chainable\n  */\n  options(_) {\n    return arguments.length ? (this._options = _, this) : this._options;\n  }\n\n  /**\n      @memberof Select\n      @desc Sets the css styles for the <option> elements.\n      @param {Object} [*value*]\n      @chainable\n  */\n  optionStyle(_) {\n    return arguments.length ? (this._optionStyle = _, this) : this._optionStyle;\n  }\n\n  /**\n      @memberof Select\n      @desc Defines the selected option.\n      @param {Function} [*value*]\n      @chainable\n  */\n  selected(_) {\n    return arguments.length ? (this._selected = _, this) : this._selected;\n  }\n\n  /**\n      @memberof Select\n      @desc Sets the css styles for the <select> element.\n      @param {Object} [*value*]\n      @chainable\n  */\n  selectStyle(_) {\n    return arguments.length ? (this._selectStyle = _, this) : this._selectStyle;\n  }\n\n  /**\n      @memberof Select\n      @desc Sets the inner text for each <option> element.\n      @param {Function|String} [*value* = function(d) { return d.text; }]\n      @chainable\n  */\n  text(_) {\n    return arguments.length ? (this._text = typeof _ === \"function\" ? _ : constant(_), this) : this._text;\n  }\n\n  /**\n      @memberof Select\n      @desc Sets the value for each <option> element.\n      @param {Function} [*value* = function(d) { return d.value; }]\n      @chainable\n  */\n  value(_) {\n    return arguments.length ? (this._value = _, this) : this._value;\n  }\n\n}\n"],"names":["Button","_buttonStyle","_data","_text","accessor","_value","_container","container","select","append","node","selectAll","_uuid","data","svg","tagName","toLowerCase","enter","attr","merge","button","d","i","exit","remove","call","stylize","html","event","_on","hasOwnProperty","on","_","arguments","length","constant","BaseClass","Radio","_labelStyle","_legendStyle","_options","_radioStyle","that","radios","each","nextSibling","input","document","createElement","setAttribute","parentNode","insertBefore","checked","_checked","classed","style","property","value","legend","_legend","insert","Select","_optionStyle","_selectStyle","selected","options","_selected","label","_label"],"mappings":"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"}